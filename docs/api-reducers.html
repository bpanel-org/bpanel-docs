<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Reducers · bPanel</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Reducers · bPanel"/><meta property="og:type" content="website"/><meta property="og:url" content="https://bpanel.org/index.html"/><meta property="og:description" content="## Redux Store in bPanel"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/bcoin-logo-white.png"/><h2 class="headerTitle">bPanel</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/quick-start.html" target="_self">Quick Start</a></li><li><a href="/docs/bpanel-overview.html" target="_self">About</a></li><li><a href="/docs/plugin-started.html" target="_self">Developers</a></li><li><a href="/docs/plugin-showcase.html" target="_self">Showcase</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Plugin Development</h3><ul><li class="navListItem"><a class="navItem" href="/docs/plugin-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/blockchain.html">Blockchain API</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/guide-node-info.html">Node Info View</a></li></ul></div><div class="navGroup navGroupActive"><h3>API</h3><ul><li class="navListItem"><a class="navItem" href="/docs/api-metadata.html">metadata</a></li><li class="navListItem"><a class="navItem" href="/docs/api-decorate.html">decorate</a></li><li class="navListItem"><a class="navItem" href="/docs/api-map-state-dispatch.html">mapComponentState/Dispatch</a></li><li class="navListItem"><a class="navItem" href="/docs/api-getprops.html">getProps</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/api-reducers.html">reducers</a></li><li class="navListItem"><a class="navItem" href="/docs/api-middleware.html">middleware</a></li><li class="navListItem"><a class="navItem" href="/docs/api-constants.html">Constants</a></li><li class="navListItem"><a class="navItem" href="/docs/api-sockets.html">Sockets</a></li><li class="navListItem"><a class="navItem" href="/docs/api-decorate-plugins.html">Decorate Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/api-bundling-plugins.html">Bundling Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/bpanel-utils.html">bPanel Utils</a></li></ul></div><div class="navGroup navGroupActive"><h3>bPanel UI</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ui-introduction.html">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/ui-components.html">Components</a></li><li class="navListItem"><a class="navItem" href="/docs/ui-utilities.html">Utilities</a></li></ul></div><div class="navGroup navGroupActive"><h3>Theming (Skins)</h3><ul><li class="navListItem"><a class="navItem" href="/docs/theming-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/theming-defaults.html">Theming Defaults</a></li><li class="navListItem"><a class="navItem" href="/docs/theming-variables.html">Theming Variables</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Reducers</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" name="redux-store-in-bpanel"></a><a href="#redux-store-in-bpanel" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Redux Store in bPanel</h2>
<p>The accepted convention for reducers and the application state in bPanel is for top level store,
e.g. <code>node</code>, <code>chain</code>, etc., to be representative of the state of your bcoin node. So if a plugin wants
to retrieve the chain height, or update it based on an event, you know you can access it
from <code>state.chain.height</code>. For plugin specific reducers, there is a special <code>plugins</code> store you can use.
See <code>reducePlugins</code> extension below which also helps avoid naming collisions.</p>
<h2><a class="anchor" aria-hidden="true" name="the-api"></a><a href="#the-api" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The API</h2>
<p>The plugin API exposes certain parts of the store's reducer. You can target these reducers by exporting one of the decorating functions described on this page (more may be added in the future).</p>
<p>Available extensions:</p>
<ul>
<li><a href="#pluginreducers"><code>pluginReducers</code></a></li>
<li><a href="#navstore"><code>navStore</code></a></li>
<li><a href="#persistreducers"><code>persistReducers</code></a></li>
<li><a href="#reduceplugins-deprecated"><code>reducePlugins</code> (deprecated)</a></li>
<li><a href="#reducechain"><code>reduceChain</code></a></li>
<li><a href="#reducenode"><code>reduceNode</code></a></li>
<li><a href="#reducewallets"><code>reduceWallets</code></a></li>
</ul>
<p>A description of reducers in redux from the <a href="https://redux.js.org/basics/reducers">docs</a>:</p>
<blockquote>
<p>Reducers specify how the application's state changes in response to actions sent to the store. Remember that actions only describe the fact that something happened, but don't describe how the application's state changes.</p>
</blockquote>
<p>So with these extensions, you are indicating how you want the app state to change based on specific actions that have been <a href="/docs/api-map-state-dispatch.html">dispatched</a> to the store. Each individual reducer extension is targeting a specific part of the state.</p>
<p>To get information about the shape of the part of the state you would like to interact with, we recommend using the <a href="https://github.com/zalmoxisus/redux-devtools-extension">Redux DevTools Extension</a>.</p>
<h2><a class="anchor" aria-hidden="true" name="available-reducers"></a><a href="#available-reducers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Available Reducers:</h2>
<h3><a class="anchor" aria-hidden="true" name="pluginreducers"></a><a href="#pluginreducers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>pluginReducers</code></h3>
<p>Often a plugin will want to add its own store and corresponding reducers to the app state.
This can have numerous advantages including simplifying the control flow of the state
for your components. Significantly, it can also enable other plugins to interact with your
plugin by providing an interface, via redux, for reading your plugin's state and even
hooking into action dispatches via middleware.</p>
<p>You can also have the app persist your plugin state across browser sessions using the
browser's localStorage. See <a href="#persistreducers"><code>persistReducers</code></a> below for more</p>
<h4><a class="anchor" aria-hidden="true" name="combinereducers"></a><a href="#combinereducers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>combineReducers</h4>
<p>bPanel uses redux's <code>combineReducers</code> utility method to implement and merge the state of
all plugins with their own store. This happens during the build stage when bPanel will take
all plugin reducers merge them into a single object, and add them to the root reducer under
the store <code>plugins</code>.</p>
<p>Shape of the store:</p>
<pre><code class="hljs">{
  node: <span class="hljs-meta">{...}</span>,
  chain: <span class="hljs-meta">{...}</span>,
  wallets: <span class="hljs-meta">{...}</span>,
  theme: <span class="hljs-meta">{...}</span>,
  pluginMetadata: <span class="hljs-meta">{...}</span>,
  plugins: {
    myCustomPlugin: <span class="hljs-meta">{...}</span>, // this will be initialized w/ your initial state <span class="hljs-keyword">and</span> updated w/ your reducer
    otherPlugin: <span class="hljs-meta">{...}</span>
  }
};
</code></pre>
<p>To add your own custom reducer and initial state, simply create your reducer as you normally would
with redux and pass it in via an object, exported with <code>pluginReducers</code>. You can pass as many top
level reducers as you want or nest multiple reducers under your own top level reducer.</p>
<pre><code class="hljs css javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bp_foo</span>(<span class="hljs-params">state = { foo: <span class="hljs-string">'bar'</span> }, action</span>) </span>{
  <span class="hljs-keyword">const</span> newState = { ...state };
  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'SET_FOO'</span>:
      newState.foo = action.payload;
      <span class="hljs-keyword">return</span> newState;
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
};

</code></pre>
<h3><a class="anchor" aria-hidden="true" name="navstore"></a><a href="#navstore" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>navStore</code></h3>
<p>Currently the nav store doesn't support decoration. By dispatching the appropriate
actions however, you can add and remove items from the App's navigation.</p>
<h4><a class="anchor" aria-hidden="true" name="add-side-nav"></a><a href="#add-side-nav" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ADD_SIDE_NAV</h4>
<p>To add a new item to the side navigation, simply send a payload with an object
that mirrors the shape of the <a href="/docs/api-metadata.html"><code>metadata</code></a> object for new plugins.</p>
<p>In addition you will also need to add a unique id. The built in <code>addSideNav</code> action creator in bPanel
generates one automatically by taking the first 6 characters of the hash of your object.</p>
<h5><a class="anchor" aria-hidden="true" name="properties"></a><a href="#properties" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Properties</h5>
<table>
<thead>
<tr><th>Property</th><th>Required?</th><th>Type</th><th>Details</th></tr>
</thead>
<tbody>
<tr><td><code>name</code></td><td>yes</td><td><code>string</code></td><td>Used to identify your plugin. Must follow npm naming rules</td></tr>
<tr><td><code>id</code></td><td>yes</td><td><code>string</code></td><td>unique id. This will be added to the link component in the DOM</td></tr>
<tr><td><code>displayName</code></td><td>no</td><td><code>string</code></td><td>Will default to <code>name</code> if none is provided</td></tr>
<tr><td><code>pathName</code></td><td>yes</td><td><code>string</code></td><td>If building a view/panel, will be passed to react-router to use as URL of your view</td></tr>
<tr><td><code>order</code></td><td>no</td><td><code>int</code></td><td>If including in sidebar, useful for ordering nav.<br>If order conflicts between plugins, will sort alphabetically</td></tr>
<tr><td><code>icon</code></td><td>no</td><td><code>string</code></td><td>Also for sidebar navigation.<br>The name of the font awesome icon to use for your view nav</td></tr>
<tr><td><code>sidebar</code> or <code>nav</code></td><td>no</td><td><code>bool</code></td><td>Default: <code>false</code><br>If true, bPanel will automatically add sidebar navigation for your plugin view</td></tr>
<tr><td><code>parent</code></td><td>no</td><td><code>string</code></td><td>Currently no support, but will be used for<br>adding a plugin as child (both in path and in navigation)</td></tr>
</tbody>
</table>
<pre><code class="hljs css javascript"><span class="hljs-comment">// webapp/store/actions/navActions.js</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSideNav</span>(<span class="hljs-params">metadata</span>) </span>{
  assert(metadata.name, <span class="hljs-string">'nav items must include a name'</span>);
  <span class="hljs-keyword">const</span> { pathName, name } = metadata;

  <span class="hljs-comment">// get hash for unique id</span>
  <span class="hljs-keyword">const</span> id = helpers.getHash(metadata, <span class="hljs-string">'sha256'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>); <span class="hljs-comment">// utility available in bpanel-utils</span>
  metadata.pathName = pathName ? pathName : name;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'ADD_SIDE_NAV'</span>,
    <span class="hljs-attr">payload</span>: { ...metadata, <span class="hljs-attr">sidebar</span>: <span class="hljs-literal">true</span>, id }
  };
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> pluginReducers = {
  <span class="hljs-attr">bp_foo</span>: bp_foo
  <span class="hljs-comment">// export as many properties w/ corresponding reducers as you want</span>
  <span class="hljs-comment">// or use combineReducers to nest them under a single top level reducer</span>
};
</code></pre>
<p>Now you can update your plugin state by dispatching an action:</p>
<pre><code class="hljs"> {
  <span class="hljs-attribute">type</span>: <span class="hljs-string">'SET_FOO'</span>,
  payload: <span class="hljs-string">'baz'</span>
 }
</code></pre>
<blockquote>
<p>Make sure you prefix your store with a unique id to avoid any conflicts
with other plugins.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" name="persistreducers"></a><a href="#persistreducers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>persistReducers</code></h3>
<p>bPanel uses the <a href="https://www.npmjs.com/package/redux-persist">redux-persist package</a> to allow
plugin developers to persist state across browser sessions. This means that if you indicate you want
a part of your store to persist, the app will rehydrate with the last known state whether you refresh
or open in a new window or tab.</p>
<p>Note that currently the only capability you have as a plugin developer is to whitelist what you would
like to persist. The default, top-level stores do not currently persist and simply hydrate from the node
bPanel is communicating with. Make sure to take this into account to avoid your plugin being inconsistent
with the state of the rest of the app.</p>
<p>The interface to persist a store is straightforward, simply export an array of strings matching to
the plugin store you would like to persist:</p>
<pre><code class="hljs css javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> persistReducers = [<span class="hljs-string">'bp_foo'</span>];
</code></pre>
<h4><a class="anchor" aria-hidden="true" name="remove-side-nav"></a><a href="#remove-side-nav" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>REMOVE_SIDE_NAV</h4>
<p>To remove a sidebar item, you must pass an object with at least an <code>id</code> or <code>name</code> property matching
the item you would like to remove.</p>
<pre><code class="hljs css javascript"><span class="hljs-comment">// webapp/store/actions/navActions.js</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeSideNav</span>(<span class="hljs-params">metadata</span>) </span>{
  <span class="hljs-keyword">if</span> (!metadata.id || !metadata.name)
    <span class="hljs-comment">// eslint-disable-next-line no-console</span>
    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'Must pass an id or name to delete nav item'</span>);
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'REMOVE_SIDE_NAV'</span>,
    <span class="hljs-attr">payload</span>: metadata
  };
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="reduceplugins-deprecated"></a><a href="#reduceplugins-deprecated" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reducePlugins</code> (deprecated)</h3>
<p><code>reducePlugins</code> has been deprecated and is no longer supported in bPanel. If you have a plugin
that currently uses this interface, please upgrade to the <a href="#pluginreducers">pluginReducers</a> API instead</p>
<h3><a class="anchor" aria-hidden="true" name="reducechain"></a><a href="#reducechain" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reduceChain</code></h3>
<p>Actions types currently implemented in the chain reducer are:</p>
<ul>
<li><code>SET_CHAIN_INFO</code></li>
<li><code>SET_GENESIS</code></li>
</ul>
<p>Example:</p>
<pre><code class="hljs css javascript"><span class="hljs-comment">// This will return a new `snapshot` property that is</span>
<span class="hljs-comment">// a snapshot of the current tip hash.</span>
<span class="hljs-comment">// Pretty useless reducer but gives an idea of functionality</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> reduceChain = <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> newState = { ...state };
  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'MY_CUSTOM_ACTION'</span>: {
      <span class="hljs-keyword">const</span> snapshot = action.payload;
      newState.snapshot = snapshot;
      <span class="hljs-keyword">return</span> newState;
    }
  }
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="reducenode"></a><a href="#reducenode" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reduceNode</code></h3>
<p>(See <a href="#reduceChain"><code>reduceChain</code></a>)</p>
<h3><a class="anchor" aria-hidden="true" name="reducewallets"></a><a href="#reducewallets" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reduceWallets</code></h3>
<p>(See <a href="#reduceChain"><code>reduceChain</code></a>)</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="api-getprops.html">← Get Props</a><a class="docs-next button" href="api-middleware.html">Middleware →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/bcoin-logo-white.png" alt="bPanel" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/quick-start.html">Quick Start</a><a href="/docs/plugin-intro.html">Plugin Overview</a><a href="/docs/theming-started.html">Theming Overview</a></div><div><h5>Community</h5><a href="https://bitcoin.stackexchange.com/questions/tagged/bcoin" target="_blank">Stack Overflow</a><a href="http://bcoin.io/slack-signup.html" target="_blank">Project Chat</a><a href="https://twitter.com/bcoin" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/bpanel-org" target="_blank">GitHub</a><a class="github-button" href="https://github.com/bpanel-org/bpanel" data-icon="octicon-star" data-count-href="" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2018 bcoin<br/><smallest>Icons made by artists from https://www.flaticon.com/authors and licensed under CC 3.0</smallest></section></footer></div><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-35892077-12', 'auto');
              ga('send', 'pageview');
            </script></body></html>